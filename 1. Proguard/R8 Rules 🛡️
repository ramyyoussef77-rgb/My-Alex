1. Proguard/R8 Rules üõ°Ô∏è

Configure Proguard Rules for My Alex App

# app/proguard-rules.pro

# Keep Firebase classes
-keep class com.google.firebase.** { *; }
-keep class com.google.android.gms.** { *; }

# Keep OpenAI API models
-keep class com.myalex.alexandria.data.remote.openai.** { *; }

# Keep Facebook SDK classes
-keep class com.facebook.** { *; }

# Keep Room database entities
-keep class com.myalex.alexandria.data.local.entities.** { *; }

# Keep Retrofit models
-keep class com.myalex.alexandria.data.remote.dto.** { *; }

# Keep Hilt generated classes
-keep class dagger.hilt.** { *; }
-keep class * extends dagger.hilt.android.lifecycle.HiltViewModel

# Keep Compose classes
-keep class androidx.compose.** { *; }

# Keep ARCore classes
-keep class com.google.ar.** { *; }

# Crashlytics symbolication
-keepattributes SourceFile,LineNumberTable
-keep public class * extends java.lang.Exception

# Keep Arabic font rendering
-keep class androidx.compose.ui.text.font.** { *; }

Enable R8 in build.gradle

android {
    buildTypes {
        release {
            minifyEnabled true
            shrinkResources true
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
            
            // Enable crash report symbolication
            firebaseCrashlytics {
                mappingFileUploadEnabled true
            }
        }
    }
}
